Task 05: Event-Driven ToDo Server with Logging & Analytics
===========================================================

Описание реализации:

1. Архитектура системы:
- TodoServer наследуется от EventEmitter для реализации событийной модели
- Добавлены классы ConsoleLogger для логирования и AnalyticsTracker для сбора аналитики
- Сохранены все CRUD операции из Task 04 с добавлением механизма событий
- Поддержка CORS для всех эндпоинтов

2. Реализованные события:
- todoCreated: эмитируется после успешного создания задачи через POST /todos
- todoUpdated: эмитируется после обновления задачи через PUT /todos/:id или PATCH /todos/:id
- todoDeleted: эмитируется после удаления задачи через DELETE /todos/:id
- todoViewed: эмитируется после просмотра задачи через GET /todos/:id
- todosListed: эмитируется после получения списка задач через GET /todos
- todoNotFound: эмитируется при попытке доступа к несуществующей задаче
- validationError: эмитируется при ошибках валидации входных данных
- serverError: эмитируется при внутренних ошибках сервера

3. Система аналитики (AnalyticsTracker):
- Счетчики для всех типов операций (создание, обновление, удаление, просмотр)
- Ежедневная статистика, группированная по датам
- История последних событий (максимум 100 событий)
- Возможность получения статистики через GET /analytics

4. Логирование (ConsoleLogger):
- Вывод всех событий в консоль с временными метками
- Отображение данных событий в формате JSON
- Синхронная обработка событий

5. Новые эндпоинты:
- GET /analytics: возвращает статистику операций
- GET /events?last=n: возвращает последние n событий (по умолчанию 10)

6. Структура данных:
- Каждое событие включает timestamp и requestInfo
- requestInfo содержит метод, URL, заголовки и параметры запроса
- Аналитика включает dailyStats для отслеживания активности по дням

Инструкции по запуску:

1. Запуск сервера:
   node task-05.js

2. Запуск тестов:
   node task-05-test.js

3. Примеры использования API:

   Создание задачи:
   curl -X POST http://localhost:3000/todos \
        -H "Content-Type: application/json" \
        -d '{"title":"Learn Node.js Events","description":"Study EventEmitter"}'

   Получение списка задач:
   curl http://localhost:3000/todos

   Получение задачи по ID:
   curl http://localhost:3000/todos/1

   Обновление задачи:
   curl -X PUT http://localhost:3000/todos/1 \
        -H "Content-Type: application/json" \
        -d '{"title":"Updated Title","completed":true}'

   Частичное обновление:
   curl -X PATCH http://localhost:3000/todos/1 \
        -H "Content-Type: application/json" \
        -d '{"description":"Updated description"}'

   Удаление задачи:
   curl -X DELETE http://localhost:3000/todos/1

   Получение аналитики:
   curl http://localhost:3000/analytics

   Получение последних событий:
   curl http://localhost:3000/events?last=5

   Проверка здоровья:
   curl http://localhost:3000/health

4. Фильтрация задач:
   curl http://localhost:3000/todos?completed=true
   curl http://localhost:3000/todos?search=important

Ожидаемый вывод в консоли при работе сервера:

TodoServer with Events started on http://localhost:3000
Available endpoints:
  GET    /todos          - Get all todos
  POST   /todos          - Create new todo
  DELETE /todos          - Delete all todos
  GET    /todos/:id      - Get todo by ID
  PUT    /todos/:id      - Update todo by ID
  PATCH  /todos/:id      - Partially update todo by ID
  DELETE /todos/:id      - Delete todo by ID
  GET    /analytics      - Get analytics
  GET    /events         - Get recent events
  GET    /health         - Health check
