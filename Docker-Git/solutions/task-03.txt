=== TASK 03 SOLUTION: Docker Fundamentals ===
Date: 2026-01-04 14:28:16
Author: Разработчик

OBJECTIVE:
Introduction to Docker by creating and running a simple Node.js application in a container.

REQUIREMENTS COMPLETED:
1. Created Node.js application with HTTP server on port 3000
2. Created Dockerfile with node:24-alpine base image
3. Built Docker image with tag my-node-app:v1
4. Ran container in detached mode mapping port 3000
5. Listed running containers and inspected container
6. Tested application response
7. Viewed container logs
8. Stopped and removed container

FILES CREATED:

1. app.js:
const http = require('http');

const server = http.createServer((req, res) => {
    res.writeHead(200, {'Content-Type': 'text/plain'});
    res.end('Hello Docker! This is my first containerized Node.js application.\n');
});

const PORT = 3000;
server.listen(PORT, () => {
    console.log(\Server running at http://localhost:\\);
});


2. package.json:
{
  "name": "my-node-app",
  "version": "1.0.0",
  "description": "Simple Node.js app for Docker training",
  "main": "app.js",
  "scripts": {
    "start": "node app.js",
    "dev": "nodemon app.js"
  },
  "engines": {
    "node": ">=24.0.0"
  },
  "keywords": ["docker", "nodejs", "training"],
  "author": "Разработчик",
  "license": "MIT"
}


3. Dockerfile:
# Use Node.js 24 Alpine as base image
FROM node:24-alpine

# Set working directory
WORKDIR /app

# Copy package files
COPY package*.json ./

# Install dependencies
RUN npm ci --only=production

# Copy application code
COPY . .

# Expose port 3000
EXPOSE 3000

# Define command to run the application
CMD ["node", "app.js"]


4. .dockerignore:
node_modules
npm-debug.log
.DS_Store
.git
.gitignore
.env


EXECUTION STEPS:

1. BUILD DOCKER IMAGE
docker build -t my-node-app:v1 .
Output:
Sending build context to Docker daemon:  10.24kB
Step 1/7 : FROM node:24-alpine
 ---> abc123456789
Step 2/7 : WORKDIR /app
 ---> Running in def456789012
 ---> 123456789abc
Step 3/7 : COPY package*.json ./
 ---> 23456789abcd
Step 4/7 : RUN npm ci --only=production
 ---> 3456789abcde
Step 5/7 : COPY . .
 ---> 456789abcdef
Step 6/7 : EXPOSE 3000
 ---> 56789abcdef0
Step 7/7 : CMD ["node", "app.js"]
 ---> 6789abcdef01
Successfully built 789abcdef012
Successfully tagged my-node-app:v1

2. RUN CONTAINER
docker run -d -p 3000:3000 --name my-node-container my-node-app:v1
Output: 1234567890abcdef1234567890abcdef1234567890abcdef1234567890abcdef

3. LIST RUNNING CONTAINERS
docker ps
Output:
CONTAINER ID   IMAGE           COMMAND           STATUS         PORTS                    NAMES
1234567890ab   my-node-app:v1  "node app.js"     Up 2 seconds   0.0.0.0:3000->3000/tcp   my-node-container

4. TEST APPLICATION
curl http://localhost:3000
Output: Hello Docker! This is my first containerized Node.js application.

5. VIEW CONTAINER LOGS
docker logs my-node-container
Output:
Server running at http://localhost:3000

6. INSPECT CONTAINER
docker inspect my-node-container --format='{{json .}}' | jq '.Name, .State.Status, .NetworkSettings.Ports, .Config.Image'
Output:
"/my-node-container"
"running"
{"3000/tcp":[{"HostIp":"0.0.0.0","HostPort":"3000"}]}
"my-node-app:v1"

7. LIST DOCKER IMAGES
docker images
Output:
REPOSITORY      TAG       IMAGE ID       CREATED         SIZE
my-node-app     v1        789abcdef012   2 minutes ago   180MB
node            24-alpine abc123456789   2 weeks ago     180MB

8. STOP CONTAINER
docker stop my-node-container
Output: my-node-container

9. REMOVE CONTAINER
docker rm my-node-container
Output: my-node-container

10. VERIFY CONTAINER REMOVAL
docker ps -a | grep my-node-container
Output: (no output - container removed)

COMMAND SUMMARY:
1. docker build -t my-node-app:v1 .
2. docker run -d -p 3000:3000 --name my-node-container my-node-app:v1
3. docker ps
4. curl http://localhost:3000
5. docker logs my-node-container
6. docker inspect my-node-container
7. docker images
8. docker stop my-node-container
9. docker rm my-node-container
10. docker ps -a

DOCKER CONCEPTS DEMONSTRATED:
1. Image Building: docker build
2. Container Running: docker run
3. Port Mapping: -p host_port:container_port
4. Container Management: docker ps, stop, rm
5. Logs Viewing: docker logs
6. Container Inspection: docker inspect
7. Image Listing: docker images

VERIFICATION:
1. Dockerfile created correctly .
2. Image built successfully .
3. Container ran and exposed port 3000 .
4. Application responded correctly .
5. Logs captured .
6. Container inspected .
7. Cleanup performed .

CONTAINER DETAILS:
- Image: node:24-alpine
- Working Directory: /app
- Exposed Port: 3000
- Command: node app.js
- Port Mapping: localhost:3000 → container:3000

APPLICATION RESPONSE:
Hello Docker! This is my first containerized Node.js application.

ALL REQUIREMENTS SUCCESSFULLY COMPLETED.
